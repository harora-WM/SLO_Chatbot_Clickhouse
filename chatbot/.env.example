# ============================================================================
# SLO Chatbot - Environment Configuration
# ============================================================================
# Copy this file to .env and fill in your actual values
# Command: cp .env.example .env
# ============================================================================

# ============================================================================
# AWS BEDROCK CONFIGURATION (Required for chatbot)
# ============================================================================
# AWS credentials for Bedrock API access
AWS_ACCESS_KEY_ID=your_aws_access_key_here
AWS_SECRET_ACCESS_KEY=your_aws_secret_key_here

# AWS region for Bedrock service
# Default: ap-south-1 (Mumbai)
AWS_REGION=ap-south-1

# Bedrock model ID for Claude Sonnet 4.5
# Default: Claude Sonnet 4.5 (latest)
BEDROCK_MODEL_ID=global.anthropic.claude-sonnet-4-5-20250929-v1:0

# ============================================================================
# CLICKHOUSE CONFIGURATION (Optional - defaults work for local Docker)
# ============================================================================
# ClickHouse connection settings
# These defaults work for local Docker setup (see kafka_put/clickhouse_setup.sh)
CLICKHOUSE_HOST=localhost
CLICKHOUSE_PORT=8123
CLICKHOUSE_USER=default
CLICKHOUSE_PASSWORD=

# ClickHouse table name (do not change unless you modified kafka_to_clickhouse.py)
CLICKHOUSE_TABLE=transaction_metrics

# ============================================================================
# SLO THRESHOLDS (Optional - defaults are industry standard)
# ============================================================================
# Error rate SLO threshold (percentage)
# Default: 1.0% error rate
DEFAULT_ERROR_SLO_THRESHOLD=1.0

# Response time SLO threshold (seconds)
# Default: 1.0 second
DEFAULT_RESPONSE_TIME_SLO=1.0

# Standard SLO target (percentage of requests meeting SLO)
# Default: 98% (industry standard)
DEFAULT_SLO_TARGET_PERCENT=98

# Aspirational SLO target (higher bar)
# Default: 99%
ASPIRATIONAL_SLO_TARGET_PERCENT=99

# ============================================================================
# DEGRADATION DETECTION (Optional)
# ============================================================================
# Time window for degradation comparison (days)
# Default: 7 days (compare last week vs previous week)
DEGRADATION_WINDOW_DAYS=7

# Threshold for flagging degradation (percentage change)
# Default: 20% increase is considered degradation
DEGRADATION_THRESHOLD_PERCENT=20

# ============================================================================
# TIME WINDOW CONFIGURATION (Read-only - informational)
# ============================================================================
# Default time window for queries (days)
# Note: This is fixed by the ClickHouse dataset from kafka_put
DEFAULT_TIME_WINDOW_DAYS=12

# Maximum time window (limited by dataset)
# Note: kafka_put pipeline loads 12 days (Dec 31, 2025 - Jan 12, 2026)
MAX_TIME_WINDOW_DAYS=12

# ============================================================================
# LOGGING (Optional)
# ============================================================================
# Log level: DEBUG, INFO, WARNING, ERROR, CRITICAL
# Default: INFO
LOG_LEVEL=INFO

# ============================================================================
# NOTES
# ============================================================================
# 1. Required fields:
#    - AWS_ACCESS_KEY_ID
#    - AWS_SECRET_ACCESS_KEY
#
# 2. ClickHouse must be running (from kafka_put project):
#    docker start clickhouse-server
#
# 3. Data must be loaded via kafka_put pipeline:
#    python kafka_producer.py
#    python kafka_to_clickhouse.py
#
# 4. For Streamlit Cloud deployment:
#    Add these variables to .streamlit/secrets.toml instead
#
# 5. Platform API credentials are NO LONGER NEEDED
#    (Data is pre-loaded via kafka_put pipeline)
#
# ============================================================================
# DEPRECATED VARIABLES (No longer used after ClickHouse migration)
# ============================================================================
# These were used with the old Platform API architecture:
# - KEYCLOAK_URL
# - KEYCLOAK_USERNAME
# - KEYCLOAK_PASSWORD
# - KEYCLOAK_CLIENT_ID
# - PLATFORM_API_URL
# - PLATFORM_API_APPLICATION
# - PLATFORM_API_PAGE_SIZE
# - PLATFORM_API_VERIFY_SSL
# - OPENSEARCH_HOST
# - OPENSEARCH_PORT
# - OPENSEARCH_USERNAME
# - OPENSEARCH_PASSWORD
# ============================================================================
